<tui-wrapper
    class="outline"
    appearance="textfield"
    [readOnly]="readOnly"
    [disabled]="disabled"
    [focused]="computedFocused"
    [hovered]="computedHovered"
    [invalid]="computedInvalid"
></tui-wrapper>
<div
    class="wrapper"
    (tuiHoveredChange)="onHovered($event)"
    (mousedown)="onMouseDown($event)"
>
    <div class="toolbar-wrapper">
        <tui-toolbar
            *ngIf="initialized"
            [disabled]="!interactive"
            [tools]="tools"
            [colors]="colors"
            [attr.aria-labelledby]="id"
            (linkAdded)="onAddLink($event)"
            (texClicked)="onTex()"
            (attachClicked)="onAttach()"
        ></tui-toolbar>
        <div
            class="placeholder"
            [class.placeholder_raised]="placeholderRaised"
            [id]="id"
        >
            <ng-content></ng-content>
        </div>
        <div *ngIf="hasExampleText" class="example-text">{{exampleText}}</div>
    </div>
    <tui-scrollbar class="scrollbar">
        <div
            *ngIf="initialized"
            tuiDropdownLimitWidth="auto"
            tuiDropdownSelectionPosition="tag"
            [tuiDropdownSelection]="dropdownSelectionHandler"
            [tuiDropdownContent]="dropdown"
        ></div>
        <iframe
            #focusableElement="tuiDesignMode"
            tuiDesignMode
            class="editor"
            [attr.aria-labelledby]="id"
            [exampleText]="exampleText"
            [disabled]="!interactive"
            [ngModel]="value"
            (ngModelChange)="onModelChange($event)"
            (focusedChange)="onFocusedChange($event)"
        ></iframe>
        <ng-template #dropdown>
            <tui-edit-link
                (addLink)="onAddLink($event)"
                (removeLink)="onRemoveLink()"
            ></tui-edit-link>
        </ng-template>
    </tui-scrollbar>
</div>
